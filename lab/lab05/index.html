<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="CS61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS" />
    <meta name="author" content ="Albert Wu, Robert Huang, Alfonso Martinez, Cale Horeff, Chris Le, Colin Schoen, Derrick Lin, Jeffrey Lu, Jessica Gu, Rohit Lalchandani, Tammy Nguyen, Will Jiang, Yulin Zheng" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
    <link rel="icon" href="/assets/images/favicon.ico">

    <link rel="stylesheet" href="/assets/css/mono-blue.css">
    <script src="/assets/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <link rel="stylesheet" type="text/css" href="/assets/css/resource.css" />
<link rel="stylesheet" type="text/css" href="/assets/css/lab.css" />


    <title>Lab 5: Lists and Dictionaries | CS 61A Summer 2015</title>

  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">CS 61A</a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/">Calendar</a></li>
            <li><a href="/office-hours.html">Office Hours</a></li>
            <li><a href="/tutoring.html">Tutoring</a></li>

            <li><a href="/articles/using-ok.html">Using OK</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Course Info <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="/articles/about.html">Syllabus</a></li>
                <li><a href="/staff.html">Staff</a></li>
                <li><a href="/weekly.html">Weekly Schedule</a></li>
              </ul>
            </li>

          </ul>
        </div>
      </div>
    </nav>

    <div id="content" class="container">
      <div class='row'>
  <div class='col-md-9'>
    <div class='page-header'>
      <h1><span class="content-title-brand">Lab 5</span>: Lists and Dictionaries</h1>
    </div>

    <p><i>Due at 11:59pm on 07/07/2015.</i></p>

<h2 id='starter-files'>Starter Files</h2>

<p>Download <a href="lab05.zip">lab05.zip</a>.
Inside the archive, you will find starter files for the questions in this lab,
  along with a copy of the <a href="ok">OK</a> autograder.</p>

<h2 id='submission'>Submission</h2>

<p>By the end of this lab, you should have submitted the lab with
<code>python3 ok --submit</code>. You may submit more than once before the
deadline; only the final submission will be graded.</p>


<ul>
  <li>To receive credit for this lab, you must complete Questions 5, 6, 7, 10, and 11 in <a href="lab05.py">lab05.py</a> and submit through OK.</li>
  <li>Questions 1, 2, 3, 4, 8, and 9 are designed to help introduce concepts and test your understanding.</li>
  <li>Questions 12, 13, 14, 15, 16, and 17 <em>extra practice</em>. They can be found in
  the <a href="lab05_extra.py">lab05_extra.py</a> file. It is recommended that you
  complete these problems on your own time.</li>
</ul>


    


<h2 id="lists">Lists</h2>


<h3 class="question" id="q1">Question 1: List indexing</h3>

<p>Predict what Python will display when you type the following into the
interpreter. Then try it to check your answers.</p>


    <pre><code>&gt;&gt;&gt; x = [1, 2, 3]
&gt;&gt;&gt; x[0]
<div class="alt 11">______</div><div class="solution 11">&#x31;</div>
&gt;&gt;&gt; x[2]
<div class="alt 11">______</div><div class="solution 11">&#x33;</div>
&gt;&gt;&gt; x[3]
<div class="alt 11">______</div><div class="solution 11">&#x49;&#x6e;&#x64;&#x65;&#x78;&#x45;&#x72;&#x72;&#x6f;&#x72;</div>
&gt;&gt;&gt; x[&#x2d;1]
<div class="alt 11">______</div><div class="solution 11">&#x33;</div>
&gt;&gt;&gt; x[&#x2d;3]
<div class="alt 11">______</div><div class="solution 11">&#x31;</div></code></pre>

    <button id='11' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<h3 class="question" id="q2">Question 2: List slicing</h3>

<p>Predict what Python will display when you type the following into the
interpreter. Then try it to check your answers.</p>


    <pre><code>&gt;&gt;&gt; x = [1, 2, 3, 4]
&gt;&gt;&gt; x[1:3]
<div class="alt 12">______</div><div class="solution 12">&#x5b;&#x32;&#x2c;&#x20;&#x33;&#x5d;</div>
&gt;&gt;&gt; x[:2]
<div class="alt 12">______</div><div class="solution 12">&#x5b;&#x31;&#x2c;&#x20;&#x32;&#x5d;</div>
&gt;&gt;&gt; x[1:]
<div class="alt 12">______</div><div class="solution 12">&#x5b;&#x32;&#x2c;&#x20;&#x33;&#x2c;&#x20;&#x34;&#x5d;</div>
&gt;&gt;&gt; x[&#x2d;2:3]
<div class="alt 12">______</div><div class="solution 12">&#x5b;&#x33;&#x5d;</div>
&gt;&gt;&gt; x[&#x2d;2:4]
<div class="alt 12">______</div><div class="solution 12">&#x5b;&#x33;&#x2c;&#x20;&#x34;&#x5d;</div>
&gt;&gt;&gt; x[0:4:2]
<div class="alt 12">______</div><div class="solution 12">&#x5b;&#x31;&#x2c;&#x20;&#x33;&#x5d;</div>
&gt;&gt;&gt; x[::&#x2d;1]
<div class="alt 12">______</div><div class="solution 12">&#x5b;&#x34;&#x2c;&#x20;&#x33;&#x2c;&#x20;&#x32;&#x2c;&#x20;&#x31;&#x5d;</div></code></pre>

    <button id='12' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Python can retrieve part of a list by <em>slicing</em>.</p>

<p>We can write <code>[start:end:step]</code> to slice a list.</p>

<ul>
  <li><code>start</code>: the index for the beginning of the slice</li>
  <li><code>end</code>: the index for the end of the slice</li>
  <li><code>step</code>: how big your step size is</li>
</ul>

<p>Using negative indices for <code>start</code> and <code>end</code> behaves the same way
as indexing into negative indices. Negative <code>step</code> means to move 
backwards.</p>

<p>Slicing a list <em>creates a new</em> list, without modifying
the original list.</p>

<h3 class="question" id="q3">Question 3: List operations</h3>

<p>Predict what Python will display when you type the following into the
interpreter. Then try it to check your answers.</p>


    <pre><code>&gt;&gt;&gt; y = [1]
&gt;&gt;&gt; len(y)
<div class="alt 13">______</div><div class="solution 13">&#x31;</div>
&gt;&gt;&gt; 1 in y
<div class="alt 13">______</div><div class="solution 13">&#x54;&#x72;&#x75;&#x65;</div>
&gt;&gt;&gt; y + [2, 3]
<div class="alt 13">______</div><div class="solution 13">&#x5b;&#x31;&#x2c;&#x20;&#x32;&#x2c;&#x20;&#x33;&#x5d;</div>
&gt;&gt;&gt; [0] + y
<div class="alt 13">______</div><div class="solution 13">&#x5b;&#x30;&#x2c;&#x20;&#x31;&#x5d;</div>
&gt;&gt;&gt; y * 3
<div class="alt 13">______</div><div class="solution 13">&#x5b;&#x31;&#x2c;&#x20;&#x31;&#x2c;&#x20;&#x31;&#x5d;</div>
&gt;&gt;&gt; z = [[1, 2], [3, 4, 5]]
&gt;&gt;&gt; len(z)
<div class="alt 13">______</div><div class="solution 13">&#x32;</div></code></pre>

    <button id='13' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<h3 class="question" id="q4">Question 4: Fill in the blanks</h3>

<p>Fill in the blanks for the following lines so that each expression
evaluates to the expected output: 
<prompt></p>

<pre><code>&gt;&gt;&gt; x = [1, 3, [5, 7], 9]
&gt;&gt;&gt; _______________
7
&gt;&gt;&gt; x = [[7]]
&gt;&gt;&gt; _______________
7
&gt;&gt;&gt; x = [1, [2, [3, [4, [5, [6, [7]]]]]]]
&gt;&gt;&gt; _______________
7</code></pre>

</prompt>


    <button id='16' class='toggleButtonShow'>
    Toggle Explanation<noscript> (enable JavaScript)</noscript>
    </button>
    <div class="solution 16">

<ul>
  <li><code>x[2][1]</code></li>
  <li><code>x[0][0]</code></li>
  <li><code>x[1][1][1][1][1][1][0]</code>
  </div></li>
</ul>

<h3 class="question" id="q5">Question 5: Reverse (iteratively)</h3>

<p>Write a function <code>reverse_iter</code> that takes a list and returns a new
list that is the reverse of the original. Use iteration! You may also
use slicing notation. Do not use <code>lst[::&#x2d;1]</code>!</p>



<pre><code>def reverse_iter(lst):
    &quot;&quot;&quot;Returns the reverse of the given list.

    &gt;&gt;&gt; reverse_iter([1, 2, 3, 4])
    [4, 3, 2, 1]
    &quot;&quot;&quot;
<div class="alt 0">    "*** YOUR CODE HERE ***"
</div><div class="solution 0">&#x20;&#x20;&#x20;&#x20;&#x6e;&#x65;&#x77;&#x2c;&#x20;&#x69;&#x20;&#x3d;&#x20;&#x5b;&#x5d;&#x2c;&#x20;&#x30;&#xa;&#x20;&#x20;&#x20;&#x20;&#x77;&#x68;&#x69;&#x6c;&#x65;&#x20;&#x69;&#x20;&#x3c;&#x20;&#x6c;&#x65;&#x6e;&#x28;&#x6c;&#x73;&#x74;&#x29;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x6e;&#x65;&#x77;&#x20;&#x3d;&#x20;&#x5b;&#x6c;&#x73;&#x74;&#x5b;&#x69;&#x5d;&#x5d;&#x20;&#x2b;&#x20;&#x6e;&#x65;&#x77;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x20;&#x2b;&#x3d;&#x20;&#x31;&#xa;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x6e;&#x65;&#x77;</div></code></pre>


    <button id='0' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q reverse_iter</code></pre>

<h3 class="question" id="q6">Question 6: Reverse (recursively)</h3>

<p>Write a function <code>reverse_recursive</code> that takes a list and returns a
new list that is the reverse of the original. Use recursion! You may
also use slicing notation. Do not use <code>lst[::&#x2d;1]</code>!</p>



<pre><code>def reverse_recursive(lst):
    &quot;&quot;&quot;Returns the reverse of the given list.

    &gt;&gt;&gt; reverse_recursive([1, 2, 3, 4])
    [4, 3, 2, 1]
    &quot;&quot;&quot;
<div class="alt 1">    "*** YOUR CODE HERE ***"
</div><div class="solution 1">&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x6e;&#x6f;&#x74;&#x20;&#x6c;&#x73;&#x74;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x5b;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x72;&#x65;&#x76;&#x65;&#x72;&#x73;&#x65;&#x5f;&#x72;&#x65;&#x63;&#x75;&#x72;&#x73;&#x69;&#x76;&#x65;&#x28;&#x6c;&#x73;&#x74;&#x5b;&#x31;&#x3a;&#x5d;&#x29;&#x20;&#x2b;&#x20;&#x5b;&#x6c;&#x73;&#x74;&#x5b;&#x30;&#x5d;&#x5d;</div></code></pre>


    <button id='1' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q reverse_recursive</code></pre>


<h2 id="sequences">Sequences</h2>


<p>Sequences are ordered collections of values that support element-selection and
have length. The most common sequence you've worked with are lists, but many
other Python types are sequences as well, including strings.</p>

<p>Here are a few powerful higher-order functions that process
sequences:</p>

<ul>
  <li><code>map(fn, seq)</code>: applies a function <code>fn</code> onto every element in the
  given sequence <code>seq</code>.</li>
  <li><code>filter(cond, seq)</code>: keeps elements in the sequence <code>seq</code> only if
  those elements satisfy the condition function <code>cond</code> (that is, for
  an element <code>x</code>, keep it only if <code>cond(x)</code> is True).</li>
  <li><code>reduce(combiner, seq, initial)</code>: combines all elements in the sequence <code>seq</code>
  with the <code>combiner</code> function (which must take two arguments), starting from
  the <code>initial</code> value.</li>
</ul>

<p><strong>Note:</strong> <code>map</code> and <code>filter</code> are built-in to <em>python3</em> but <code>reduce</code> is in the <code>functools</code> package.
 You must import <code>reduce</code> from <code>functools</code> like this:</p>

<pre><code>&gt;&gt;&gt; from functools import reduce
&gt;&gt;&gt; reduce(lambda x, y: x + y, [1, 2, 3])
6</code></pre>

<p><strong>Note:</strong> <code>map</code> and <code>filter</code> do not return lists. Instead, <code>map</code> returns a <code>map</code>
object and <code>filter</code> returns a <code>filter</code> object. We can convert these objects to
lists by using the <code>list</code> constructor:</p>

<pre><code>&gt;&gt;&gt; map(lambda x: x * x, [1, 2, 3, 4])
&lt;map object at ...&gt;
&gt;&gt;&gt; list(map(lambda x: x * x, [1, 2, 3, 4]))
[1, 4, 9, 16]</code></pre>

<h3 class="question" id="q7">Question 7: Map, Filter, Reduce</h3>

<p>As an exercise, implement three functions <code>map</code>, <code>filter</code>, and <code>reduce</code>
to behave like their built-in counterparts. For <code>map</code> and <code>filter</code>, you
can return the results as Python lists.</p>



<pre><code>def map(fn, seq):
    &quot;&quot;&quot;Applies fn onto each element in seq and returns a list.

    &gt;&gt;&gt; map(lambda x: x*x, [1, 2, 3])
    [1, 4, 9]
    &quot;&quot;&quot;
<div class="alt 2">    "*** YOUR CODE HERE ***"
</div><div class="solution 2">&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;&#x20;&#x3d;&#x20;&#x5b;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x65;&#x6c;&#x65;&#x6d;&#x20;&#x69;&#x6e;&#x20;&#x73;&#x65;&#x71;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;&#x20;&#x2b;&#x3d;&#x20;&#x5b;&#x66;&#x6e;&#x28;&#x65;&#x6c;&#x65;&#x6d;&#x29;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;</div>
def filter(pred, seq):
    &quot;&quot;&quot;Keeps elements in seq only if they satisfy pred.

    &gt;&gt;&gt; filter(lambda x: x % 2 == 0, [1, 2, 3, 4])
    [2, 4]
    &quot;&quot;&quot;
<div class="alt 2">    "*** YOUR CODE HERE ***"
</div><div class="solution 2">&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;&#x20;&#x3d;&#x20;&#x5b;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x65;&#x6c;&#x65;&#x6d;&#x20;&#x69;&#x6e;&#x20;&#x73;&#x65;&#x71;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x70;&#x72;&#x65;&#x64;&#x28;&#x65;&#x6c;&#x65;&#x6d;&#x29;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;&#x20;&#x2b;&#x3d;&#x20;&#x5b;&#x65;&#x6c;&#x65;&#x6d;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;</div>
def reduce(combiner, seq):
    &quot;&quot;&quot;Combines elements in seq using combiner.

    &gt;&gt;&gt; reduce(lambda x, y: x + y, [1, 2, 3, 4])
    10
    &gt;&gt;&gt; reduce(lambda x, y: x * y, [1, 2, 3, 4])
    24
    &gt;&gt;&gt; reduce(lambda x, y: x * y, [4])
    4
    &quot;&quot;&quot;
<div class="alt 2">    "*** YOUR CODE HERE ***"
</div><div class="solution 2">&#x20;&#x20;&#x20;&#x20;&#x74;&#x6f;&#x74;&#x61;&#x6c;&#x20;&#x3d;&#x20;&#x73;&#x65;&#x71;&#x5b;&#x30;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x65;&#x6c;&#x65;&#x6d;&#x20;&#x69;&#x6e;&#x20;&#x73;&#x65;&#x71;&#x5b;&#x31;&#x3a;&#x5d;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x74;&#x6f;&#x74;&#x61;&#x6c;&#x20;&#x3d;&#x20;&#x63;&#x6f;&#x6d;&#x62;&#x69;&#x6e;&#x65;&#x72;&#x28;&#x74;&#x6f;&#x74;&#x61;&#x6c;&#x2c;&#x20;&#x65;&#x6c;&#x65;&#x6d;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x74;&#x6f;&#x74;&#x61;&#x6c;</div></code></pre>


    <button id='2' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q map
python3 ok -q filter
python3 ok -q reduce</code></pre>


<h3 id="list-comprehension">List Comprehension</h3>


<p>A <code>list comprehension</code> is Python syntax for quickly creating lists.</p>

<ul>
  <li><strong>For loop</strong>: sequence to iterate over</li>
  <li><strong>Map expression</strong>: what to do to each element in sequence</li>
  <li><strong>Filter expression</strong>: which elements to keep (optional)</li>
</ul>

<p>For example:</p>

<pre><code>&gt;&gt;&gt; seq = [1, 2, 3, 4]
&gt;&gt;&gt; [x * x for x in seq if x % 2 == 0]
[4, 16]</code></pre>

<h3 class="question" id="q8">Question 8: What would Python print?</h3>

<p>What would Python print? Try to figure it out before
you type it into the interpreter!</p>


    <pre><code>&gt;&gt;&gt; [x*x for x in range(5)]
<div class="alt 14">______</div><div class="solution 14">&#x5b;&#x30;&#x2c;&#x20;&#x31;&#x2c;&#x20;&#x34;&#x2c;&#x20;&#x39;&#x2c;&#x20;&#x31;&#x36;&#x5d;</div>
&gt;&gt;&gt; [n for n in range(10) if n % 2 == 0]
<div class="alt 14">______</div><div class="solution 14">&#x5b;&#x30;&#x2c;&#x20;&#x32;&#x2c;&#x20;&#x34;&#x2c;&#x20;&#x36;&#x2c;&#x20;&#x38;&#x5d;</div>
&gt;&gt;&gt; ones = [1 for i in [&quot;hi&quot;, &quot;bye&quot;, &quot;you&quot;]]
&gt;&gt;&gt; ones + [str(i) for i in [6, 3, 8, 4]]
<div class="alt 14">______</div><div class="solution 14">&#x5b;&#x31;&#x2c;&#x20;&#x31;&#x2c;&#x20;&#x31;&#x2c;&#x20;&#x27;&#x36;&#x27;&#x2c;&#x20;&#x27;&#x33;&#x27;&#x2c;&#x20;&#x27;&#x38;&#x27;&#x2c;&#x20;&#x27;&#x34;&#x27;&#x5d;</div>
&gt;&gt;&gt; [i+5 for i in [n for n in range(1,4)]]
<div class="alt 14">______</div><div class="solution 14">&#x5b;&#x36;&#x2c;&#x20;&#x37;&#x2c;&#x20;&#x38;&#x5d;</div></code></pre>

    <button id='14' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    


<h2 id="dictionaries">Dictionaries</h2>


<p>Dictionaries are unordered sets of key-value pairs. To create a
dictionary, use the following syntax:</p>

<pre><code>&gt;&gt;&gt; singers = { &#x27;Iggy Azalea&#x27;: &#x27;Fancy&#x27;, &#x27;Beyonce&#x27;: &#x27;Flawless&#x27;, &#x27;Adam Levine&#x27;: &#x27;Maps&#x27;}</code></pre>

<p>The curly braces denote the key-value pairs in your dictionary. Each key-value
pair is separated by a comma. For each pair, the key appears to the left of the
colon and the value appears to the right of the colon. You can retrieve values
from your dictionary by "indexing" using the key:</p>

<pre><code>&gt;&gt;&gt; singers[&#x27;Beyonce&#x27;]
&#x27;Flawless&#x27;
&gt;&gt;&gt; singers[&#x27;Iggy Azalea&#x27;]
&#x27;Fancy&#x27;</code></pre>

<p>You can update an entry for an existing key in the dictionary using the
following syntax. Be careful adding a new key follows identical syntax!</p>

<pre><code>&gt;&gt;&gt; singers[&#x27;Beyonce&#x27;] = &#x27;Survivor&#x27;
&gt;&gt;&gt; singers[&#x27;Beyonce&#x27;]
&#x27;Survivor&#x27;
&gt;&gt;&gt; singers[&#x27;Nicki Minaj&#x27;] = &#x27;Anaconda&#x27; # new entry!
&gt;&gt;&gt; singers[&#x27;Nicki Minaj&#x27;]
&#x27;Anaconda&#x27;</code></pre>

<p>You can also check for membership of keys!</p>

<pre><code>&gt;&gt;&gt; &#x27;Adam Levine&#x27; in singers
True</code></pre>

<h3 class="question" id="q9">Question 9: What Would Python Print?</h3>

<p>What would Python print? Try to figure it out before you type it into the
interpreter!</p>


    <pre><code>&gt;&gt;&gt; pokemon = {&#x27;pikachu&#x27;: 25, &#x27;dragonair&#x27;: 148, &#x27;mew&#x27;: 151}
&gt;&gt;&gt; pokemon[&#x27;pikachu&#x27;]
<div class="alt 15">______</div><div class="solution 15">&#x32;&#x35;</div>
&gt;&gt;&gt; pokemon[&#x27;jolteon&#x27;] = 135
&gt;&gt;&gt; pokemon
<div class="alt 15">______</div><div class="solution 15">&#x7b;&#x27;&#x6a;&#x6f;&#x6c;&#x74;&#x65;&#x6f;&#x6e;&#x27;&#x3a;&#x20;&#x31;&#x33;&#x35;&#x2c;&#x20;&#x27;&#x70;&#x69;&#x6b;&#x61;&#x63;&#x68;&#x75;&#x27;&#x3a;&#x20;&#x32;&#x35;&#x2c;&#x20;&#x27;&#x64;&#x72;&#x61;&#x67;&#x6f;&#x6e;&#x61;&#x69;&#x72;&#x27;&#x3a;&#x20;&#x31;&#x34;&#x38;&#x2c;&#x20;&#x27;&#x6d;&#x65;&#x77;&#x27;&#x3a;&#x20;&#x31;&#x35;&#x31;&#x7d;</div>
&gt;&gt;&gt; pokemon[&#x27;ditto&#x27;] = 25
&gt;&gt;&gt; pokemon
<div class="alt 15">______</div><div class="solution 15">&#x7b;&#x27;&#x6a;&#x6f;&#x6c;&#x74;&#x65;&#x6f;&#x6e;&#x27;&#x3a;&#x20;&#x31;&#x33;&#x35;&#x2c;&#x20;&#x27;&#x70;&#x69;&#x6b;&#x61;&#x63;&#x68;&#x75;&#x27;&#x3a;&#x20;&#x32;&#x35;&#x2c;&#x20;&#x27;&#x64;&#x72;&#x61;&#x67;&#x6f;&#x6e;&#x61;&#x69;&#x72;&#x27;&#x3a;&#x20;&#x31;&#x34;&#x38;&#x2c;&#xa;&#x2019;&#x64;&#x69;&#x74;&#x74;&#x6f;&#x2019;&#x3a;&#x20;&#x32;&#x35;&#x2c;&#x20;&#x2019;&#x6d;&#x65;&#x77;&#x2019;&#x3a;&#x20;&#x31;&#x35;&#x31;&#x7d;</div>
&gt;&gt;&gt; ’mewtwo’ in pokemon
<div class="alt 15">______</div><div class="solution 15">&#x46;&#x61;&#x6c;&#x73;&#x65;</div>
&gt;&gt;&gt; len(pokemon)
<div class="alt 15">______</div><div class="solution 15">&#x35;</div>
&gt;&gt;&gt; pokemon[’ditto’] = pokemon[’jolteon’]
&gt;&gt;&gt; pokemon
<div class="alt 15">______</div><div class="solution 15">&#x7b;&#x27;&#x6d;&#x65;&#x77;&#x27;&#x3a;&#x20;&#x31;&#x35;&#x31;&#x2c;&#x20;&#x27;&#x64;&#x69;&#x74;&#x74;&#x6f;&#x27;&#x3a;&#x20;&#x31;&#x33;&#x35;&#x2c;&#x20;&#x27;&#x6a;&#x6f;&#x6c;&#x74;&#x65;&#x6f;&#x6e;&#x27;&#x3a;&#x20;&#x31;&#x33;&#x35;&#x2c;&#x20;&#x27;&#x70;&#x69;&#x6b;&#x61;&#x63;&#x68;&#x75;&#x27;&#x3a;&#x20;&#x32;&#x35;&#x2c;&#x20;&#x27;&#x64;&#x72;&#x61;&#x67;&#x6f;&#x6e;&#x61;&#x69;&#x72;&#x27;&#x3a;&#x20;&#x31;&#x34;&#x38;&#x7d;</div></code></pre>

    <button id='15' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<!-- Note that the last example demonstrates that dictionaries cannot use
other mutable data structures as keys. We'll discuss mutability further in the future.  -->

<!-- >>> pokemon[('diglett', 'diglett', 'diglett')] = 51
>>> pokemon[25] = 'pikachu'
>>> pokemon
{'mew': 151, 'ditto': 135, 'jolteon': 135, 25: 'pikachu',
'pikachu': 25, ('diglett', 'diglett', 'diglett'): 51,
'dragonair': 148}
>>> pokemon['mewtwo'] = pokemon['mew'] * 2
>>> pokemon
{'mew': 151, 'ditto': 135, 'jolteon': 135, 25: 'pikachu',
'pikachu': 25, ('diglett', 'diglett', 'diglett'): 51,
'mewtwo': 302, 'dragonair': 148
>>> pokemon[['firetype', 'flying']] = 146
Error: unhashable type -->


<h2 id="shakespeare-and-dictionaries">Shakespeare and Dictionaries</h2>


<p>We will use dictionaries to approximate the entire works of
Shakespeare! We're going to use a bigram language model. Here's the
idea: We start with some word &mdash; we'll use "The" as an example. Then we
look through all of the texts of Shakespeare and for every instance of
"The" we record the word that follows "The" and add it to a list, known
as the <em>successors</em> of "The".  Now suppose we've done this for every
word Shakespeare has used, ever.</p>

<p>Let's go back to "The". Now, we randomly choose a word from this list,
say "cat". Then we look up the successors of "cat" and randomly choose
a word from that list, and we continue this process. This eventually
will terminate in a period (".") and we will have generated a
Shakespearean sentence!</p>

<p>The object that we'll be looking things up in is called a "successor
table", although really it's just a dictionary. The keys in this
dictionary are words, and the values are lists of successors to those
words.</p>

<h3 class="question" id="q10">Question 10: Successor Tables</h3>
Here's an incomplete definition of the <code>build_successors_table</code>
function. The input is a list of words (corresponding to a
Shakespearean text), and the output is a successors table. (By default,
the first word is a successor to "."). See the example below.

<blockquote><p>Note: there are two places where you need to write code, denoted by the two
<code>&quot;*** YOUR CODE HERE ***&quot;</code></p></blockquote>



<pre><code>def build_successors_table(tokens):
    &quot;&quot;&quot;Return a dictionary: keys are words; values are lists of
    successors.

    &gt;&gt;&gt; text = [&#x27;We&#x27;, &#x27;came&#x27;, &#x27;to&#x27;, &#x27;investigate&#x27;, &#x27;,&#x27;, &#x27;catch&#x27;, &#x27;bad&#x27;, &#x27;guys&#x27;, &#x27;and&#x27;, &#x27;to&#x27;, &#x27;eat&#x27;, &#x27;pie&#x27;, &#x27;.&#x27;]
    &gt;&gt;&gt; table = build_successors_table(text)
    &gt;&gt;&gt; sorted(table)
    [&#x27;,&#x27;, &#x27;.&#x27;, &#x27;We&#x27;, &#x27;and&#x27;, &#x27;bad&#x27;, &#x27;came&#x27;, &#x27;catch&#x27;, &#x27;eat&#x27;, &#x27;guys&#x27;, &#x27;investigate&#x27;, &#x27;pie&#x27;, &#x27;to&#x27;]
    &gt;&gt;&gt; table[&#x27;to&#x27;]
    [&#x27;investigate&#x27;, &#x27;eat&#x27;]
    &gt;&gt;&gt; table[&#x27;pie&#x27;]
    [&#x27;.&#x27;]
    &gt;&gt;&gt; table[&#x27;.&#x27;]
    [&#x27;We&#x27;]
    &quot;&quot;&quot;
    table = {}
    prev = &#x27;.&#x27;
    for word in tokens:
        if prev not in table:
<div class="alt 3">            "*** YOUR CODE HERE ***"
</div><div class="solution 3">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x74;&#x61;&#x62;&#x6c;&#x65;&#x5b;&#x70;&#x72;&#x65;&#x76;&#x5d;&#x20;&#x3d;&#x20;&#x5b;&#x5d;</div><div class="alt 3">        "*** YOUR CODE HERE ***"
</div><div class="solution 3">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x74;&#x61;&#x62;&#x6c;&#x65;&#x5b;&#x70;&#x72;&#x65;&#x76;&#x5d;&#x20;&#x2b;&#x3d;&#x20;&#x5b;&#x77;&#x6f;&#x72;&#x64;&#x5d;</div>        prev = word
    return table</code></pre>


    <button id='3' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q build_successors_table</code></pre>

<h3 class="question" id="q11">Question 11: Construct the Sentence</h3>

<p>Let's generate some sentences! Suppose we're given a starting word. We
can look up this word in our table to find its list of successors, and
then randomly select a word from this list to be the next word in the
sentence. Then we just repeat until we reach some ending punctuation.</p>

<p><em>Hint</em>: to randomly select from a list, first make sure you import the
Python random library with <code>import random</code> and then use the expression
<code>random.choice(my_list)</code>)</p>

<p>This might not be a bad time to play around with adding strings
together as well. Let's fill in the <code>construct_sent</code> function!</p>



<pre><code>def construct_sent(word, table):
    &quot;&quot;&quot;Prints a random sentence starting with word, sampling from
    table.
    &quot;&quot;&quot;
    import random
    result = &#x27; &#x27;
    while word not in [&#x27;.&#x27;, &#x27;!&#x27;, &#x27;?&#x27;]:
<div class="alt 4">        "*** YOUR CODE HERE ***"
</div><div class="solution 4">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;&#x20;&#x2b;&#x3d;&#x20;&#x77;&#x6f;&#x72;&#x64;&#x20;&#x2b;&#x20;&#x27;&#x20;&#x27;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x77;&#x6f;&#x72;&#x64;&#x20;&#x3d;&#x20;&#x72;&#x61;&#x6e;&#x64;&#x6f;&#x6d;&#x2e;&#x63;&#x68;&#x6f;&#x69;&#x63;&#x65;&#x28;&#x74;&#x61;&#x62;&#x6c;&#x65;&#x5b;&#x77;&#x6f;&#x72;&#x64;&#x5d;&#x29;</div>    return result + word</code></pre>


    <button id='4' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q construct_sent</code></pre>


<h3 id="putting-it-all-together">Putting it all together</h3>


<p>Great! Now all that's left is to run our functions with some actual
code. The following snippet included in the skeleton code will return
a list containing the words in all of the works of Shakespeare.</p>

<blockquote><p><em>Warning</em>: do <strong>NOT</strong> try to print the return result of this function.</p></blockquote>

<pre><code>def shakespeare_tokens(path=&#x27;shakespeare.txt&#x27;, url=&#x27;http://composingprograms.com/shakespeare.txt&#x27;):
    &quot;&quot;&quot;Return the words of Shakespeare&#x27;s plays as a list.&quot;&quot;&quot;
    import os
    from urllib.request import urlopen
    if os.path.exists(path):
        return open(&#x27;shakespeare.txt&#x27;, encoding=&#x27;ascii&#x27;).read().split()
    else:
        shakespeare = urlopen(url)
        return shakespeare.read().decode(encoding=&#x27;ascii&#x27;).split()</code></pre>

<p>Next, we probably want an easy way to refer to our list of tokens and
our successors table.  Let's make the following assignments (<em>Note:</em> the following lines are commented in the provided file. Uncomment them before procceding)</p>

<pre><code>tokens = shakespeare_tokens()
table = build_successors_table(tokens)</code></pre>

<p>Finally, let's define an easy to call utility function:</p>

<pre><code>&gt;&gt;&gt; def sent():
...     return construct_sent(&#x27;The&#x27;, table)
&gt;&gt;&gt; sent()
&quot; The plebeians have done us must be news&#x2d;cramm&#x27;d &quot;

&gt;&gt;&gt; sent()
&quot; The ravish&#x27;d thee , with the mercy of beauty &quot;

&gt;&gt;&gt; sent()
&quot; The bird of Tunis , or two white and plucker down with better ; that&#x27;s God&#x27;s sake &quot;</code></pre>

<p>Notice that all the sentences start with the word "The". With a few
modications, we can make our sentences start with a random word. The
following <code>random_sent</code> function (defined in your starter file) will
do the trick:</p>

<pre><code>def random_sent():
    import random
    return construct_sent(random.choice(table[&#x27;.&#x27;]), table)</code></pre>

<p>Go ahead and load your file into Python (be sure to use the <code>&#x2d;i</code> flag).
You can now call the <code>random_sent</code> function to generate random
Shakespearean sentences!</p>

<pre><code>&gt;&gt;&gt; random_sent()
&#x27; Long live by thy name , then , Dost thou more angel , good Master Deep&#x2d;vow , And tak&#x27;st more ado but following her , my sight Of speaking false !&#x27;

&gt;&gt;&gt; random_sent()
&#x27; Yes , why blame him , as is as I shall find a case , That plays at the public weal or the ghost .&#x27;</code></pre>


<h2 id="extra-questions">Extra Questions</h2>


<blockquote><p>The following questions are for <strong>extra practice</strong> &mdash; they can be found in the
the <a href="lab05_extra.py">lab05_extra.py</a> file. It is recommended that you complete
these problems on your own time.</p></blockquote>

<h3 class="question" id="q12">Question 12: Merge</h3>

<p>Write a function <code>merge</code> that takes 2 <em>sorted</em> lists <code>lst1</code> and <code>lst2</code>,
and returns a new list that contains all the elements in the two lists
in sorted order.</p>



<pre><code>def merge(lst1, lst2):
    &quot;&quot;&quot;Merges two sorted lists.

    &gt;&gt;&gt; merge([1, 3, 5], [2, 4, 6])
    [1, 2, 3, 4, 5, 6]
    &gt;&gt;&gt; merge([], [2, 4, 6])
    [2, 4, 6]
    &gt;&gt;&gt; merge([1, 2, 3], [])
    [1, 2, 3]
    &gt;&gt;&gt; merge([5, 7], [2, 4, 6])
    [2, 4, 5, 6, 7]
    &quot;&quot;&quot;
<div class="alt 5">    "*** YOUR CODE HERE ***"
</div><div class="solution 5">&#x20;&#x20;&#x20;&#x20;&#x23;&#x20;&#x72;&#x65;&#x63;&#x75;&#x72;&#x73;&#x69;&#x76;&#x65;&#xa;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x6e;&#x6f;&#x74;&#x20;&#x6c;&#x73;&#x74;&#x31;&#x20;&#x6f;&#x72;&#x20;&#x6e;&#x6f;&#x74;&#x20;&#x6c;&#x73;&#x74;&#x32;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x6c;&#x73;&#x74;&#x31;&#x20;&#x2b;&#x20;&#x6c;&#x73;&#x74;&#x32;&#xa;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x69;&#x66;&#x20;&#x6c;&#x73;&#x74;&#x31;&#x5b;&#x30;&#x5d;&#x20;&#x3c;&#x20;&#x6c;&#x73;&#x74;&#x32;&#x5b;&#x30;&#x5d;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x5b;&#x6c;&#x73;&#x74;&#x31;&#x5b;&#x30;&#x5d;&#x5d;&#x20;&#x2b;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x28;&#x6c;&#x73;&#x74;&#x31;&#x5b;&#x31;&#x3a;&#x5d;&#x2c;&#x20;&#x6c;&#x73;&#x74;&#x32;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x73;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x5b;&#x6c;&#x73;&#x74;&#x32;&#x5b;&#x30;&#x5d;&#x5d;&#x20;&#x2b;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x28;&#x6c;&#x73;&#x74;&#x31;&#x2c;&#x20;&#x6c;&#x73;&#x74;&#x32;&#x5b;&#x31;&#x3a;&#x5d;&#x29;&#xa;&#xa;&#x23;&#x20;&#x49;&#x74;&#x65;&#x72;&#x61;&#x74;&#x69;&#x76;&#x65;&#x20;&#x73;&#x6f;&#x6c;&#x75;&#x74;&#x69;&#x6f;&#x6e;&#x20;&#xa;&#x64;&#x65;&#x66;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x5f;&#x69;&#x74;&#x65;&#x72;&#x28;&#x6c;&#x73;&#x74;&#x31;&#x2c;&#x20;&#x6c;&#x73;&#x74;&#x32;&#x29;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x22;&#x22;&#x22;&#x4d;&#x65;&#x72;&#x67;&#x65;&#x73;&#x20;&#x74;&#x77;&#x6f;&#x20;&#x73;&#x6f;&#x72;&#x74;&#x65;&#x64;&#x20;&#x6c;&#x69;&#x73;&#x74;&#x73;&#x2e;&#xa;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x5f;&#x69;&#x74;&#x65;&#x72;&#x28;&#x5b;&#x31;&#x2c;&#x20;&#x33;&#x2c;&#x20;&#x35;&#x5d;&#x2c;&#x20;&#x5b;&#x32;&#x2c;&#x20;&#x34;&#x2c;&#x20;&#x36;&#x5d;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x5b;&#x31;&#x2c;&#x20;&#x32;&#x2c;&#x20;&#x33;&#x2c;&#x20;&#x34;&#x2c;&#x20;&#x35;&#x2c;&#x20;&#x36;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x5f;&#x69;&#x74;&#x65;&#x72;&#x28;&#x5b;&#x5d;&#x2c;&#x20;&#x5b;&#x32;&#x2c;&#x20;&#x34;&#x2c;&#x20;&#x36;&#x5d;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x5b;&#x32;&#x2c;&#x20;&#x34;&#x2c;&#x20;&#x36;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x5f;&#x69;&#x74;&#x65;&#x72;&#x28;&#x5b;&#x31;&#x2c;&#x20;&#x32;&#x2c;&#x20;&#x33;&#x5d;&#x2c;&#x20;&#x5b;&#x5d;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x5b;&#x31;&#x2c;&#x20;&#x32;&#x2c;&#x20;&#x33;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x5f;&#x69;&#x74;&#x65;&#x72;&#x28;&#x5b;&#x35;&#x2c;&#x20;&#x37;&#x5d;&#x2c;&#x20;&#x5b;&#x32;&#x2c;&#x20;&#x34;&#x2c;&#x20;&#x36;&#x5d;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x5b;&#x32;&#x2c;&#x20;&#x34;&#x2c;&#x20;&#x35;&#x2c;&#x20;&#x36;&#x2c;&#x20;&#x37;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x22;&#x22;&#x22;&#xa;&#x20;&#x20;&#x20;&#x20;&#x6e;&#x65;&#x77;&#x20;&#x3d;&#x20;&#x5b;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x77;&#x68;&#x69;&#x6c;&#x65;&#x20;&#x6c;&#x73;&#x74;&#x31;&#x20;&#x61;&#x6e;&#x64;&#x20;&#x6c;&#x73;&#x74;&#x32;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x6c;&#x73;&#x74;&#x31;&#x5b;&#x30;&#x5d;&#x20;&#x3c;&#x20;&#x6c;&#x73;&#x74;&#x32;&#x5b;&#x30;&#x5d;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x6e;&#x65;&#x77;&#x20;&#x2b;&#x3d;&#x20;&#x5b;&#x6c;&#x73;&#x74;&#x31;&#x5b;&#x30;&#x5d;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x6c;&#x73;&#x74;&#x31;&#x20;&#x3d;&#x20;&#x6c;&#x73;&#x74;&#x31;&#x5b;&#x31;&#x3a;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x73;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x6e;&#x65;&#x77;&#x20;&#x2b;&#x3d;&#x20;&#x5b;&#x6c;&#x73;&#x74;&#x32;&#x5b;&#x30;&#x5d;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x6c;&#x73;&#x74;&#x32;&#x20;&#x3d;&#x20;&#x6c;&#x73;&#x74;&#x32;&#x5b;&#x31;&#x3a;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x6c;&#x73;&#x74;&#x31;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x6e;&#x65;&#x77;&#x20;&#x2b;&#x20;&#x6c;&#x73;&#x74;&#x31;&#xa;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x73;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x6e;&#x65;&#x77;&#x20;&#x2b;&#x20;&#x6c;&#x73;&#x74;&#x32;</div></code></pre>


    <button id='5' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q merge</code></pre>

<h3 class="question" id="q13">Question 13: Mergesort</h3>

<p><a href="http://en.wikipedia.org/wiki/Merge_sort">Mergesort</a> is a type of
sorting algorithm. It follows a naturally recursive procedure:</p>

<ul>
  <li>Break the input list into equally-sized halves</li>
  <li>Recursively sort both halves</li>
  <li>Merge the sorted halves.</li>
</ul>

<p>Using your <code>merge</code> function from the previous question, implement
<code>mergesort</code>.</p>

<p><em>Challenge</em>: Implement mergesort itself iteratively, without using
recursion.</p>



<pre><code>def mergesort(seq):
    &quot;&quot;&quot;Mergesort algorithm.

    &gt;&gt;&gt; mergesort([4, 2, 5, 2, 1])
    [1, 2, 2, 4, 5]
    &gt;&gt;&gt; mergesort([])     # sorting an empty list
    []
    &gt;&gt;&gt; mergesort([1])   # sorting a one&#x2d;element list
    [1]
    &quot;&quot;&quot;
<div class="alt 6">    "*** YOUR CODE HERE ***"
</div><div class="solution 6">&#x20;&#x20;&#x20;&#x20;&#x23;&#x20;&#x72;&#x65;&#x63;&#x75;&#x72;&#x73;&#x69;&#x76;&#x65;&#x20;&#x73;&#x6f;&#x6c;&#x75;&#x74;&#x69;&#x6f;&#x6e;&#xa;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x6c;&#x65;&#x6e;&#x28;&#x73;&#x65;&#x71;&#x29;&#x20;&#x3c;&#x20;&#x32;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x73;&#x65;&#x71;&#xa;&#x20;&#x20;&#x20;&#x20;&#x6d;&#x69;&#x64;&#x20;&#x3d;&#x20;&#x6c;&#x65;&#x6e;&#x28;&#x73;&#x65;&#x71;&#x29;&#x20;&#x2f;&#x2f;&#x20;&#x32;&#xa;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x28;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x73;&#x6f;&#x72;&#x74;&#x28;&#x73;&#x65;&#x71;&#x5b;&#x3a;&#x6d;&#x69;&#x64;&#x5d;&#x29;&#x2c;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x73;&#x6f;&#x72;&#x74;&#x28;&#x73;&#x65;&#x71;&#x5b;&#x6d;&#x69;&#x64;&#x3a;&#x5d;&#x29;&#x29;&#xa;&#xa;&#x23;&#x20;&#x49;&#x74;&#x65;&#x72;&#x61;&#x74;&#x69;&#x76;&#x65;&#x20;&#x73;&#x6f;&#x6c;&#x75;&#x74;&#x69;&#x6f;&#x6e;&#xa;&#x64;&#x65;&#x66;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x73;&#x6f;&#x72;&#x74;&#x5f;&#x69;&#x74;&#x65;&#x72;&#x28;&#x73;&#x65;&#x71;&#x29;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x22;&#x22;&#x22;&#x4d;&#x65;&#x72;&#x67;&#x65;&#x73;&#x6f;&#x72;&#x74;&#x20;&#x61;&#x6c;&#x67;&#x6f;&#x72;&#x69;&#x74;&#x68;&#x6d;&#x2e;&#xa;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x73;&#x6f;&#x72;&#x74;&#x5f;&#x69;&#x74;&#x65;&#x72;&#x28;&#x5b;&#x34;&#x2c;&#x20;&#x32;&#x2c;&#x20;&#x35;&#x2c;&#x20;&#x32;&#x2c;&#x20;&#x31;&#x5d;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x5b;&#x31;&#x2c;&#x20;&#x32;&#x2c;&#x20;&#x32;&#x2c;&#x20;&#x34;&#x2c;&#x20;&#x35;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x73;&#x6f;&#x72;&#x74;&#x5f;&#x69;&#x74;&#x65;&#x72;&#x28;&#x5b;&#x5d;&#x29;&#x20;&#x20;&#x20;&#x20;&#x20;&#x23;&#x20;&#x73;&#x6f;&#x72;&#x74;&#x69;&#x6e;&#x67;&#x20;&#x61;&#x6e;&#x20;&#x65;&#x6d;&#x70;&#x74;&#x79;&#x20;&#x6c;&#x69;&#x73;&#x74;&#xa;&#x20;&#x20;&#x20;&#x20;&#x5b;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x73;&#x6f;&#x72;&#x74;&#x5f;&#x69;&#x74;&#x65;&#x72;&#x28;&#x5b;&#x31;&#x5d;&#x29;&#x20;&#x20;&#x20;&#x23;&#x20;&#x73;&#x6f;&#x72;&#x74;&#x69;&#x6e;&#x67;&#x20;&#x61;&#x20;&#x6f;&#x6e;&#x65;&#x2d;&#x65;&#x6c;&#x65;&#x6d;&#x65;&#x6e;&#x74;&#x20;&#x6c;&#x69;&#x73;&#x74;&#xa;&#x20;&#x20;&#x20;&#x20;&#x5b;&#x31;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x22;&#x22;&#x22;&#xa;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x6e;&#x6f;&#x74;&#x20;&#x73;&#x65;&#x71;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x5b;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x71;&#x75;&#x65;&#x75;&#x65;&#x20;&#x3d;&#x20;&#x5b;&#x5b;&#x65;&#x6c;&#x65;&#x6d;&#x5d;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x65;&#x6c;&#x65;&#x6d;&#x20;&#x69;&#x6e;&#x20;&#x73;&#x65;&#x71;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x77;&#x68;&#x69;&#x6c;&#x65;&#x20;&#x6c;&#x65;&#x6e;&#x28;&#x71;&#x75;&#x65;&#x75;&#x65;&#x29;&#x20;&#x3e;&#x20;&#x31;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x66;&#x69;&#x72;&#x73;&#x74;&#x2c;&#x20;&#x73;&#x65;&#x63;&#x6f;&#x6e;&#x64;&#x20;&#x3d;&#x20;&#x71;&#x75;&#x65;&#x75;&#x65;&#x5b;&#x30;&#x5d;&#x2c;&#x20;&#x71;&#x75;&#x65;&#x75;&#x65;&#x5b;&#x31;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x71;&#x75;&#x65;&#x75;&#x65;&#x20;&#x3d;&#x20;&#x71;&#x75;&#x65;&#x75;&#x65;&#x5b;&#x32;&#x3a;&#x5d;&#x20;&#x2b;&#x20;&#x5b;&#x6d;&#x65;&#x72;&#x67;&#x65;&#x28;&#x66;&#x69;&#x72;&#x73;&#x74;&#x2c;&#x20;&#x73;&#x65;&#x63;&#x6f;&#x6e;&#x64;&#x29;&#x5d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x71;&#x75;&#x65;&#x75;&#x65;&#x5b;&#x30;&#x5d;</div></code></pre>


    <button id='6' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q mergesort</code></pre>

<h3 class="question" id="q14">Question 14: Coordinates</h3>

<p>Implement a function <code>coords</code>, which takes a function, a sequence, and
an upper and lower bound on output of the function. <code>coords</code> then
returns a list of x, y coordinate pairs (lists) such that:</p>

<ul>
  <li>Each pair contains <code>[x, fn(x)]</code></li>
  <li>The x coordinates are the elements in the sequence</li>
  <li>Only pairs whose y coordinate is within the upper and lower bounds
  (inclusive)</li>
</ul>

<p>See the doctests for examples.</p>

<p>One other thing: your answer can only be <em>one line long</em>. You should
make use of list comprehensions!</p>



<pre><code>def coords(fn, seq, lower, upper):
    &quot;&quot;&quot;
    &gt;&gt;&gt; seq = [&#x2d;4, &#x2d;2, 0, 1, 3]
    &gt;&gt;&gt; fn = lambda x: x**2
    &gt;&gt;&gt; coords(fn, seq, 1, 9)
    [[&#x2d;2, 4], [1, 1], [3, 9]]
    &quot;&quot;&quot; 
<div class="alt 7">    "*** YOUR CODE HERE ***"
    return ______
</div><div class="solution 7">&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x5b;&#x5b;&#x78;&#x2c;&#x20;&#x66;&#x6e;&#x28;&#x78;&#x29;&#x5d;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x78;&#x20;&#x69;&#x6e;&#x20;&#x73;&#x65;&#x71;&#x20;&#x69;&#x66;&#x20;&#x6c;&#x6f;&#x77;&#x65;&#x72;&#x20;&#x3c;&#x3d;&#x20;&#x66;&#x6e;&#x28;&#x78;&#x29;&#x20;&#x3c;&#x3d;&#x20;&#x75;&#x70;&#x70;&#x65;&#x72;&#x5d;</div></code></pre>


    <button id='7' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q coords</code></pre>

<h3 class="question" id="q15">Question 15: Deck of cards</h3>

<p>Write a list comprehension that will create a deck of cards, given a
list of <code>suits</code> and a list of <code>numbers</code>. Each
element in the list will be a card, which is represented by a 2-element list
of the form <code>[suit, number]</code>.</p>



<pre><code>def deck(suits, numbers):
    &quot;&quot;&quot;Creates a deck of cards (a list of 2&#x2d;element lists) with the given
    suits and numbers. Each element in the returned list should be of the form
    [suit, number].

    &gt;&gt;&gt; deck([&#x27;S&#x27;, &#x27;C&#x27;], [1, 2, 3])
    [[&#x27;S&#x27;, 1], [&#x27;S&#x27;, 2], [&#x27;S&#x27;, 3], [&#x27;C&#x27;, 1], [&#x27;C&#x27;, 2], [&#x27;C&#x27;, 3]]
    &gt;&gt;&gt; deck([&#x27;S&#x27;, &#x27;C&#x27;], [3, 2, 1])
    [[&#x27;S&#x27;, 3], [&#x27;S&#x27;, 2], [&#x27;S&#x27;, 1], [&#x27;C&#x27;, 3], [&#x27;C&#x27;, 2], [&#x27;C&#x27;, 1]]
    &gt;&gt;&gt; deck([], [3, 2, 1])
    []
    &gt;&gt;&gt; deck([&#x27;S&#x27;, &#x27;C&#x27;], [])
    []
    &quot;&quot;&quot;
<div class="alt 8">    "*** YOUR CODE HERE ***"
    return ______
</div><div class="solution 8">&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x5b;&#x5b;&#x73;&#x75;&#x69;&#x74;&#x2c;&#x20;&#x6e;&#x75;&#x6d;&#x62;&#x65;&#x72;&#x5d;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x73;&#x75;&#x69;&#x74;&#x20;&#x69;&#x6e;&#x20;&#x73;&#x75;&#x69;&#x74;&#x73;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x6e;&#x75;&#x6d;&#x62;&#x65;&#x72;&#x20;&#x69;&#x6e;&#x20;&#x6e;&#x75;&#x6d;&#x62;&#x65;&#x72;&#x73;&#x5d;</div></code></pre>


    <button id='8' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q deck</code></pre>

<h3 class="question" id="q16">Question 16: Counter</h3>

<p>Implement the function <code>counter</code> which takes in a string of words, and returns a
dictionary where each key is a word in the message, and each value is the number
of times that word is present in the original string.</p>



<pre><code>def counter(message):
    &quot;&quot;&quot; Returns a dictionary of each word in message mapped
    to the number of times it appears in the input string.

    &gt;&gt;&gt; x = counter(&#x27;to be or not to be&#x27;)
    &gt;&gt;&gt; x[&#x27;to&#x27;]
    2
    &gt;&gt;&gt; x[&#x27;be&#x27;]
    2
    &gt;&gt;&gt; x[&#x27;not&#x27;]
    1
    &gt;&gt;&gt; y = counter(&#x27;run forrest run&#x27;)
    &gt;&gt;&gt; y[&#x27;run&#x27;]
    2
    &gt;&gt;&gt; y[&#x27;forrest&#x27;]
    1
    &quot;&quot;&quot;
    word_list = message.split()
<div class="alt 9">    "*** YOUR CODE HERE ***"
</div><div class="solution 9">&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;&#x5f;&#x64;&#x69;&#x63;&#x74;&#x20;&#x3d;&#x20;&#x7b;&#x7d;&#xa;&#x20;&#x20;&#x20;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x77;&#x6f;&#x72;&#x64;&#x20;&#x69;&#x6e;&#x20;&#x77;&#x6f;&#x72;&#x64;&#x5f;&#x6c;&#x69;&#x73;&#x74;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x77;&#x6f;&#x72;&#x64;&#x20;&#x69;&#x6e;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;&#x5f;&#x64;&#x69;&#x63;&#x74;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;&#x5f;&#x64;&#x69;&#x63;&#x74;&#x5b;&#x77;&#x6f;&#x72;&#x64;&#x5d;&#x20;&#x2b;&#x3d;&#x20;&#x31;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x73;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;&#x5f;&#x64;&#x69;&#x63;&#x74;&#x5b;&#x77;&#x6f;&#x72;&#x64;&#x5d;&#x20;&#x3d;&#x20;&#x31;&#xa;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x72;&#x65;&#x73;&#x75;&#x6c;&#x74;&#x5f;&#x64;&#x69;&#x63;&#x74;</div></code></pre>


    <button id='9' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q counter</code></pre>

<h3 class="question" id="q17">Question 17: Replace All</h3>

<p>Given a dictionary <code>d</code>, replace all occurences of <code>x</code> as a value (not a key) with <code>y</code>.</p>



<pre><code>def replace_all(d, x, y):
    &quot;&quot;&quot;
    &gt;&gt;&gt; d = {&#x27;foo&#x27;: 2, &#x27;bar&#x27;: 3, &#x27;garply&#x27;: 3, &#x27;xyzzy&#x27;: 99}
    &gt;&gt;&gt; replace_all(d, 3, &#x27;poof&#x27;)

    &gt;&gt;&gt; d == {&#x27;foo&#x27;: 2, &#x27;bar&#x27;: &#x27;poof&#x27;, &#x27;garply&#x27;: &#x27;poof&#x27;, &#x27;xyzzy&#x27;: 99}
    True
    &quot;&quot;&quot;
<div class="alt 10">    "*** YOUR CODE HERE ***"
</div><div class="solution 10">&#x20;&#x20;&#x20;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x6b;&#x65;&#x79;&#x20;&#x69;&#x6e;&#x20;&#x64;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x64;&#x5b;&#x6b;&#x65;&#x79;&#x5d;&#x20;&#x3d;&#x3d;&#x20;&#x78;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x64;&#x5b;&#x6b;&#x65;&#x79;&#x5d;&#x20;&#x3d;&#x20;&#x79;</div></code></pre>


    <button id='10' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q replace_all</code></pre>


  </div>

  <div class='col-md-3'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#lists">Lists</a></li>
  <ul>
  <li><a href="#q1">Question 1: List indexing</a></li>
  <li><a href="#q2">Question 2: List slicing</a></li>
  <li><a href="#q3">Question 3: List operations</a></li>
  <li><a href="#q4">Question 4: Fill in the blanks</a></li>
  <li><a href="#q5">Question 5: Reverse (iteratively)</a></li>
  <li><a href="#q6">Question 6: Reverse (recursively)</a></li>
</ul>

  <li><a href="#sequences">Sequences</a></li>
  <ul>
  <li><a href="#q7">Question 7: Map, Filter, Reduce</a></li>
  <li><a href="#list-comprehension">List Comprehension</a></li>
  <li><a href="#q8">Question 8: What would Python print?</a></li>
</ul>

  <li><a href="#dictionaries">Dictionaries</a></li>
  <ul>
  <li><a href="#q9">Question 9: What Would Python Print?</a></li>
</ul>

  <li><a href="#shakespeare-and-dictionaries">Shakespeare and Dictionaries</a></li>
  <ul>
  <li><a href="#q10">Question 10: Successor Tables</a></li>
  <li><a href="#q11">Question 11: Construct the Sentence</a></li>
  <li><a href="#putting-it-all-together">Putting it all together</a></li>
</ul>

  <li><a href="#extra-questions">Extra Questions</a></li>
  <ul>
  <li><a href="#q12">Question 12: Merge</a></li>
  <li><a href="#q13">Question 13: Mergesort</a></li>
  <li><a href="#q14">Question 14: Coordinates</a></li>
  <li><a href="#q15">Question 15: Deck of cards</a></li>
  <li><a href="#q16">Question 16: Counter</a></li>
  <li><a href="#q17">Question 17: Replace All</a></li>
</ul>

</ul>

    </nav>
  </div>

</div>
    </div>
  </body>
  <script>
  $('.sidebar ul').addClass('nav nav-stacked');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });
</script>
<script src="//code.jquery.com/jquery-latest.js"></script>
<script>
  $(function() {
    if (false) {
      $('.toggleButton').css('display', 'inline-block');
      $('.toggleButton').click(function() {
        var solution_id = $(this).attr('id');
        $('div.' + solution_id).slideToggle(600);
      });
    }
    // Always display these toggle buttons
    $('.toggleButtonShow').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
  });
</script>
</html>
